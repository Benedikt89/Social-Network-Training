{"version":3,"sources":["api/instanse.js","api/api.js","redux/MessagesReducer.js","utils/object-helpers.js","redux/FriendsReducer.js","Components/Footer/Footer.module.css","Components/News/News.module.css","Components/Music/Music.module.css","Components/Settings/Settings.module.css","assets/images/Spinner.svg","Components/Common/FormsControls/FormsControls.jsx","serviceWorker.js","Components/Navigate/FriendsNav/FriendsNav.jsx","Components/Navigate/FriendsNav/FriendsNavContainer.jsx","Components/Navigate/Navigate.jsx","Components/Footer/Footer.jsx","Components/News/News.jsx","Components/Music/Music.jsx","Components/Settings/Settings.jsx","redux/AuthReducer.js","Components/Login/Login.jsx","Components/Header/Header.jsx","redux/AppReducer.js","redux/SidebarReducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.jsx","index.js","Components/Common/Preloader.jsx","Components/Navigate/FriendsNav/FriendsNav.module.css","Components/Header/Header.module.css","redux/FeedReducer.js","utils/validators.js","Components/Common/FormsControls/FormControl.module.css","Components/Navigate/Navigate.module.css","Components/Login/Login.module.css","hoc/withAuthRedirect.js"],"names":["instanse","axios","create","baseURL","withCredentials","headers","API-KEY","__webpack_require__","d","__webpack_exports__","usersAPI","profileAPI","authAPI","getUsers","currentPage","arguments","length","undefined","pageSize","get","concat","then","res","data","follow","userId","post","resultCode","unFollow","delete","uploadUser","uploadStatus","updateStatus","status","put","updateProfile","profile","saveAvatar","photo","formData","FormData","append","Content-type","getAuth","login","email","password","rememberMe","captcha","logOut","getCaptchaUrl","initialState","users","name","id","avatarImage","age","birthDate","profession","education","messages","messageContent","sendNewMessage","text","type","messagesReducer","state","action","_objectSpread","Object","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","updateObjecrInArray","items","itemId","objPropName","newObjProps","map","i","totalUsersCount","isFetching","followUserProgress","_follow","_unFollow","selectPage","pageNumber","toggleIsFetching","toggleFollowProgress","requestUsers","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","dispatch","wrap","_context","prev","next","sent","totalCount","stop","_x","apply","this","followUnfollowFlow","_ref2","_callee2","apiMethod","actionCreator","_context2","_x2","_x3","_x4","_x5","_ref3","_callee3","_context3","bind","_x6","_ref4","_callee4","_context4","_x7","friendsReducer","FriendsReducer_objectSpread","followed","toConsumableArray","filter","module","exports","footer","item","p","FormControl","input","_ref$meta","meta","touched","error","children","hasError","react__WEBPACK_IMPORTED_MODULE_1___default","createElement","className","style","formControl","errorMessage","Input","props","restProps","child","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","assign","Textarea","createField","placeholder","validate","component","redux_form__WEBPACK_IMPORTED_MODULE_3__","Boolean","window","location","hostname","match","FriendsNav","react_default","friendsBlock","ava","react_router_dom","to","src","friends","FriendsNavContainer","connect","sidebarReducer","NavigateContainer","auth","Nav","click","activeClassName","active","FriendsNav_FriendsNavContainer","Footer","s","href","News","ages","names","render","newUsers","_this","index","user","push","usersList","n","React","Component","Music","compose","feedReducer","authorizedId","withAuthRedirect","withRouter","onChange","e","target","files","isAuth","captchaUrl","_setAuthUserData","payload","_loginSuccess","getAuthUserData","url","console","log","authReducer","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","requiredField","loginnedId","loginName","message","_message","stopSubmit","_error","Fragment","react_router","onClick","Header","lable","links","initialized","appReducer","AppReducer_objectSpread","reducers","combineReducers","formReducer","store","createStore","composeWithDevTools","applyMiddleware","thunkMiddleware","withSuspense","Suspense","fallback","Preloader","DialogsPage","lazy","ProfileContainer","FriendsContainer","AppMain","catchAllUnhandledErrors","promiseRejectionEvent","initializeApp","addEventListener","removeEventListener","Components_Header_Header","Components_Navigate_Navigate","exact","path","Components_News_News","Settings","Login","Components_Footer_Footer","AppContainer","promise","Promise","all","App","basename","process","es","ReactDOM","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_assets_images_Spinner_svg__WEBPACK_IMPORTED_MODULE_1__","_assets_images_Spinner_svg__WEBPACK_IMPORTED_MODULE_1___default","preloader","myFeed","content","likeCount","newPostText","addPost","_setUserStatus","uploadUserProfile","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","t0","updateUserStatus","newStatus","saveProfile","getState","authId","abrupt","reject","file","photos","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__","f","postId","maxLength","value","maxlength","mapStateToProps","RedirectComponent","_React$Component","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","C_projects_ben_social_js_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__"],"mappings":"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","file":"static/js/main.769008a3.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nlet instanse = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\" : \"0f32e29f-2408-4879-8199-f94cc9bd7861\"}\r\n});\r\n\r\nexport default instanse;","import instanse from \"./instanse\";\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 20){\r\n        return instanse.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(res => {\r\n                return res.data;\r\n            })\r\n    },\r\n    follow (userId) {\r\n        return instanse.post(`follow/${userId}`)\r\n            .then(res => {\r\n                return res.data.resultCode;\r\n            });\r\n    },\r\n    unFollow (userId) {\r\n        return instanse.delete(`follow/`+ userId)\r\n            .then(res => {\r\n                return res.data.resultCode;\r\n            });\r\n    },\r\n};\r\n\r\nexport const profileAPI = {\r\n    uploadUser (userId) {\r\n        return instanse.get(`profile/`+ userId)\r\n            .then(res => {\r\n                return res.data\r\n            })\r\n    },\r\n    uploadStatus (userId) {\r\n        return instanse.get(`profile/status/`+ userId)\r\n            .then( res => {\r\n                if (res.data) {\r\n                    return res.data\r\n                }\r\n            })\r\n    },\r\n    updateStatus (status) {\r\n        return instanse.put(`profile/status/`, {status: status})\r\n            .then( res => {\r\n                return res.data.resultCode;\r\n            })\r\n    },\r\n    updateProfile (profile) {\r\n        return instanse.put(`profile`, profile)\r\n            .then( res => {\r\n                return res.data;\r\n            })\r\n    },\r\n    saveAvatar (photo) {\r\n        let formData = new FormData();\r\n        formData.append('image', photo);\r\n        return instanse.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-type': 'multipart/form-data'\r\n            }\r\n        })\r\n            .then( res => {\r\n                return res.data;\r\n            })\r\n    },\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuth () {\r\n        return instanse.get(`auth/me`)\r\n            .then(res => {\r\n                return res.data;\r\n            })\r\n    },\r\n    login (email, password, rememberMe = false, captcha = null) {\r\n        return instanse.post(`auth/login/`, {email, password, rememberMe, captcha})\r\n            .then(res => {\r\n                return res.data;\r\n            })\r\n    },\r\n    logOut () {\r\n        return instanse.delete(`auth/login/`)\r\n            .then(res => {\r\n                return res.data;\r\n            })\r\n    },\r\n    getCaptchaUrl () {\r\n        return instanse.get(`security/get-captcha-url`)\r\n            .then(res => {\r\n                return res.data;\r\n            })\r\n    }\r\n};\r\n","const SEND_NEW_MESSAGE = 'SEND-NEW-MESSAGE';\r\n\r\nlet initialState = {\r\n    users: [\r\n        {\r\n            name: 'Vasya',\r\n            id: 1,\r\n            avatarImage: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUXVCQEfmyIF2ZSm5lw4GJ5BNy-hWEeRA8X0t3MPLGztI__Srv',\r\n        },\r\n        {\r\n            name: 'Anya',\r\n            id: 2,\r\n            avatarImage: 'https://cdn.freelance.ru/img/portfolio/pics/00/37/9B/3644384.jpg?mt=57607de1',\r\n        },\r\n        {\r\n            name: 'Tanya',\r\n            id: 3,\r\n            avatarImage: 'https://www.w3schools.com/howto/img_avatar2.png',\r\n        },\r\n        {\r\n            name: 'Grigory',\r\n            id: 4,\r\n            avatarImage: 'https://playjoor.com/assets/avatar/jenny.jpg',\r\n            age: 43,\r\n            birthDate: '25 / 07 / 1987',\r\n            profession: 'trubouklad4ik',\r\n            education: 'some school on east',\r\n\r\n        },\r\n    ],\r\n    messages: [\r\n        {\r\n            id: 1001,\r\n            userId: 2,\r\n            messageContent: 'Hello bro!',\r\n            avatarImage: 'https://www.w3schools.com/howto/img_avatar2.png',\r\n        },\r\n        {\r\n            id: 1002,\r\n            userId: 2,\r\n            messageContent: 'Wats UP!',\r\n            avatarImage: 'https://www.w3schools.com/howto/img_avatar2.png',\r\n\r\n        },\r\n        {\r\n            id: 1003,\r\n            userId: 2,\r\n            messageContent: 'asdasf asdf sdfg er adf aefv adfvadv afdvadv adfv !',\r\n            avatarImage: 'https://playjoor.com/assets/avatar/jenny.jpg',\r\n        },\r\n        {\r\n            id: 1004,\r\n            userId: 1,\r\n            messageContent: 'SDV ASDVADFVADF AADS  vdfvdasfv adfvafdadfva sdf',\r\n            avatarImage: 'https://playjoor.com/assets/avatar/jenny.jpg',\r\n        },\r\n        {\r\n            id: 1005,\r\n            userId: 1,\r\n            messageContent: 'SDV ASDVADFVADF AADS  vdfvdasfv adfvafdadfva sdf',\r\n            avatarImage: 'https://playjoor.com/assets/avatar/jenny.jpg',\r\n        },\r\n        {\r\n            id: 1006,\r\n            userId: 2,\r\n            messageContent: 'я Печорин предлагает Вам выпечку по оригинальным рецептам, основанных на классической славянской кухне. Тонкое, легкое тесто, много разнообразной начинки, это и есть настоящие, правильные пирожки. Мы предлагаем только свежую выпечку, Всё готовится из свежих, натуральных продуктов, и выпекается непосредственно перед доставкой.\\n' +\r\n                'Вы можете самостоятельно собрать набор из нашего ассортимента для любого случая. Накрыть стол для',\r\n            avatarImage: 'https://www.w3schools.com/howto/img_avatar2.png',\r\n        },\r\n    ],\r\n};\r\n\r\n\r\nconst messagesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_NEW_MESSAGE:\r\n            let newMessage = {\r\n                id: state.messages.length + 1001,\r\n                userId: 1,\r\n                messageContent: action.text,\r\n                avatarImage: 'https://playjoor.com/assets/avatar/jenny.jpg',\r\n            };\r\n            return {\r\n                ...state,\r\n                messages: [newMessage, ...state.messages],\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const sendNewMessage = (text) =>\r\n    ({ type: SEND_NEW_MESSAGE, text});\r\n\r\n\r\nexport default messagesReducer;","export const updateObjecrInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map( i => {\r\n        if (i[objPropName] === itemId) {\r\n            return {...i, ...newObjProps}\r\n        }\r\n        return i;\r\n    })\r\n};","import {usersAPI} from \"../api/api\";\r\nimport {updateObjecrInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW_USER = 'FOLLOW-USER';\r\nconst UNFOLLOW_USER = 'UNFOLLOW-USER';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SELECT_PAGE = 'FRIENDS/SELECT_PAGE';\r\nconst TOGGLE_IS_FETCHING = 'FRIENDS/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOW_PROGRESS = 'FRIENDS/TOGGLE_FOLLOW_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 12,\r\n    totalUsersCount: 88,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followUserProgress: [],\r\n};\r\n\r\nconst friendsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW_USER:\r\n            return {\r\n                ...state,\r\n                users: updateObjecrInArray(state.users, action.userId, '.id', {followed: true})\r\n            };\r\n\r\n        case UNFOLLOW_USER:\r\n            return {\r\n                ...state,\r\n                users: updateObjecrInArray(state.users, action.userId, '.id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users,\r\n                totalUsersCount: action.totalUsersCount,\r\n            };\r\n\r\n        case SELECT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.pageNumber,\r\n            };\r\n\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.status,\r\n            };\r\n        case TOGGLE_FOLLOW_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followUserProgress: action.status ? [...state.followUserProgress, action.userId]\r\n                    : state.followUserProgress.filter(id => id !== action.userId),\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const _follow = (userId) => {\r\n    return ({\r\n        type: FOLLOW_USER, userId: userId\r\n    })\r\n};\r\nexport const _unFollow = (userId) => {\r\n    return ({type: UNFOLLOW_USER, userId: userId})\r\n};\r\nexport const setUsers = (users, totalCount) => {\r\n    return ({type: SET_USERS, users: users, totalUsersCount: totalCount})\r\n};\r\nexport const selectPage = (pageNumber) => {\r\n    return ({type: SELECT_PAGE, pageNumber: pageNumber})\r\n};\r\nexport const toggleIsFetching = (status) => {\r\n    return ({type: TOGGLE_IS_FETCHING, status})\r\n};\r\nexport const toggleFollowProgress = (status, userId) => {\r\n    return ({type: TOGGLE_FOLLOW_PROGRESS, status, userId})\r\n};\r\n\r\nexport const requestUsers = (currentPage, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n    dispatch(setUsers(data.items, data.totalCount));\r\n    dispatch(toggleIsFetching(false));\r\n};\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowProgress(true, userId));\r\n    let res = await apiMethod(userId);\r\n    if (res === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), _follow);\r\n    }\r\n};\r\nexport const unFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), _unFollow);\r\n    }\r\n};\r\n\r\nexport default friendsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__2fTTG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"News_item__1_v0T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Music_item__3S1X3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Settings_item__1L0Ae\"};","module.exports = __webpack_public_path__ + \"static/media/Spinner.396f4d78.svg\";","import React from 'react';\r\nimport style from './FormControl.module.css'\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const FormControl = ({input, meta: {touched, error}, children,}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div>\r\n            <div className={style.formControl + ' ' + (hasError ? style.error : '')}>\r\n            {children}\r\n            </div>\r\n            {hasError &&<span className={style.errorMessage}>{error}</span>}\r\n        </div>\r\n    )\r\n};\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input}{...restProps}/></FormControl>\r\n};\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input}{...restProps}/></FormControl>\r\n};\r\nexport const createField = (placeholder, name, validate, component, props={}, text='') => (\r\n    <div>\r\n    <Field\r\n        placeholder={placeholder}\r\n        validate={validate}\r\n        name={name}\r\n        component={component}\r\n        {...props}\r\n    /> {text}\r\n    </div>);","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import {NavLink} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport style from \"./FriendsNav.module.css\"\r\n\r\nconst FriendsNav = (props) => {\r\n\r\n    return (\r\n        <div className={style.friendsBlock}>\r\n\r\n            <div className={style.ava}>\r\n            <NavLink to=\"/Profile/1572\">\r\n                    <img src={props.friends[0].avatarImage}/>\r\n            </NavLink>\r\n            </div>\r\n\r\n            <div className={style.ava}>\r\n            <NavLink to=\"/Profile/2\">\r\n                <img src={props.friends[1].avatarImage}/>\r\n            </NavLink>\r\n            </div>\r\n\r\n            <div className={style.ava}>\r\n            <NavLink to=\"/Profile/1571\">\r\n                <img src={props.friends[2].avatarImage}/>\r\n            </NavLink>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FriendsNav;","import React from \"react\";\r\nimport FriendsNav from \"./FriendsNav\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        friends: state.sidebarReducer.friends,\r\n    }\r\n};\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return{\r\n\r\n    }\r\n};\r\nconst FriendsNavContainer = connect(mapStateToProps, mapDispatchToProps)(FriendsNav);\r\nexport default FriendsNavContainer;","import React from 'react';\r\nimport style from './Navigate.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport FriendsNavContainer from \"./FriendsNav/FriendsNavContainer\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst Navigate = (props) => {\r\n\r\n    return (\r\n        <nav className={style.Nav}>\r\n\r\n            <div className={style.click}>\r\n                <NavLink to=\"/Profile\" activeClassName={style.active}>\r\n                    <div className={style.item}>\r\n                        Profile\r\n                    </div>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={style.click}>\r\n                <NavLink to=\"/DialogsPage\" activeClassName={style.active}>\r\n                    <div className={style.item}>\r\n                        Messages\r\n                    </div>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={style.click}>\r\n                <NavLink to=\"/News\" activeClassName={style.active}>\r\n                    <div className={style.item}>\r\n                        News\r\n                    </div>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={style.click}>\r\n                <NavLink to=\"/Music\" activeClassName={style.active}>\r\n                    <div className={style.item}>\r\n                        Music\r\n                    </div>\r\n                </NavLink>\r\n            </div>\r\n\r\n            <div className={style.click}>\r\n                <NavLink to=\"/Friends\" activeClassName={style.active}>\r\n                    <div className={style.item}>\r\n                        Friends\r\n                    </div>\r\n                </NavLink>\r\n            </div>\r\n\r\n\r\n            <div className={style.friends}>\r\n                <FriendsNavContainer />\r\n            </div>\r\n\r\n            {props.login ? <div className={style.click}>\r\n                <NavLink to=\"/Settings\" activeClassName={style.active}>\r\n                    <div className={style.item}>\r\n                        Settings\r\n                    </div>\r\n                </NavLink>\r\n            </div>\r\n                :<div className={style.click}>\r\n                <NavLink to=\"/Login\" activeClassName={style.active}>\r\n                    <div className={style.item}>\r\n                        Login\r\n                    </div>\r\n                </NavLink>\r\n            </div>}\r\n        </nav>\r\n    );\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        login: state.auth.login,\r\n    }\r\n};\r\n\r\nconst NavigateContainer = connect (mapStateToProps, {})( Navigate);\r\n\r\nexport default NavigateContainer;\r\n","import React from 'react';\r\nimport s from './Footer.module.css'\r\n\r\nconst Footer = (props) => {\r\n    return (\r\n        <footer className={s.footer}>\r\n            <div>\r\n                <a href='#$'>Rights</a> -\r\n                <a href='#$'>Contats</a> -\r\n            </div>\r\n        </footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react'\r\nimport style from './News.module.css'\r\n\r\nclass News extends React.Component {\r\n\r\n    ages = [21, 32, 43];\r\n    names = ['Anderew', 'Vasja', 'Kirill'];\r\n\r\n    render = () => {\r\n\r\n\r\n        let newUsers = [];\r\n\r\n        this.names.map((name, index) => {\r\n            let user = {name: name, age: this.ages[index]}\r\n            newUsers.push(user)\r\n        })\r\n\r\n        let usersList = newUsers.map(n => <p>`User {n.name} is years {n.age} old.`</p>)\r\n\r\n        return (\r\n            <div className={style.item}>\r\n\r\n                <h4>NEWS</h4>\r\n\r\n                {usersList}\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default News;\r\n","import React, {Component} from 'react';\r\nimport style from './Music.module.css';\r\n\r\nclass Music extends Component {\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className={style.item}>\r\n                MUSIC\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Music;\r\n","import React from 'react';\r\nimport style from './Settings.module.css';\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {saveAvatar} from \"../../redux/FeedReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\n\r\nconst Settings = (props) => {\r\n    let mainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            debugger;\r\n            props.saveAvatar(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={style.item}>\r\n            Settings\r\n            <div>\r\n            {props.authorizedId&&<input onChange={mainPhotoSelected} type={\"file\"}/>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return ({\r\n        profile: state.feedReducer.profile,\r\n        status: state.feedReducer.status,\r\n        authorizedId: state.auth.userId,\r\n    });\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {saveAvatar}),\r\n    withAuthRedirect,\r\n    withRouter)(Settings);\r\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\nconst LOGIN = 'auth/LOGIN';\r\nconst LOG_OUT = 'auth/LOG_OUT';\r\nconst SHOW_CAPTCHA = 'auth/SHOW_CAPTCHA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            };\r\n        case LOGIN:\r\n            return {\r\n                ...state,\r\n                isAuth: true,\r\n            };\r\n        case LOG_OUT:\r\n            return {\r\n                ...state,\r\n                isAuth: false,\r\n                userId: null,\r\n                email: null,\r\n                login: null,\r\n            };\r\n        case SHOW_CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.captchaUrl,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst _setAuthUserData = (userId, email, login, isAuth) => {\r\n    return ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\r\n};\r\nconst _loginSuccess = () => {\r\n    return ({type: LOGIN})\r\n};\r\nconst _showCaptcha = (captchaUrl) => {\r\n    return ({type: SHOW_CAPTCHA, captchaUrl})\r\n};\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let data = await authAPI.getAuth();\r\n    if (data.resultCode === 0) {\r\n        dispatch(_setAuthUserData(data.data.id, data.data.email, data.data.login, true));\r\n    }\r\n};\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let res = await authAPI.login(email, password, rememberMe, captcha);\r\n    if (res.resultCode === 0) {\r\n        dispatch(_loginSuccess);\r\n        dispatch(getAuthUserData());\r\n    } else if (res.resultCode === 10) {\r\n        dispatch(getCaptchaUrl());\r\n        let message = res.messages.length > 0 ? res.messages[0] : \"some error\";\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    } else {\r\n        let message = res.messages.length > 0 ? res.messages[0] : \"some error\";\r\n        dispatch(stopSubmit('login', {_error: message}))\r\n    }\r\n};\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    const res = await authAPI.getCaptchaUrl();\r\n        dispatch(_showCaptcha(res.url));\r\n\r\n};\r\nexport const logOut = () => async (dispatch) => {\r\n    const res = await authAPI.logOut();\r\n    if (res.resultCode === 0) {\r\n        console.log(res);\r\n        dispatch(_setAuthUserData(null, null, null, false))\r\n    }\r\n};\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport style from './Login.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../Common/FormsControls/FormsControls\";\r\nimport {requiredField} from \"../../utils/validators\";\r\nimport {getAuthUserData, getCaptchaUrl, login, logOut} from \"../../redux/AuthReducer\";\r\nimport {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst Login = ({login, logOut, isAuth, loginnedId, loginName, captchaUrl, getCaptchaUrl}) => {\r\n    const onSubmit = (formData) => {\r\n        login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    };\r\n    return (\r\n        <>\r\n        {isAuth ? <Redirect to={`/Profile/${loginnedId}`}/>:\r\n        <div className={style.item}>\r\n            <h2>LOGIN {loginName}</h2>\r\n            {isAuth&&<button onClick={logOut}>LOG OUT</button>}\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\r\n            {captchaUrl&&<div><img src={captchaUrl}/> <button onClick={getCaptchaUrl}>refresh</button></div>}\r\n        </div>}\r\n        </>\r\n    );\r\n};\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n            <form onSubmit={handleSubmit}>\r\n                {createField('e-mail', \"email\", [requiredField], Input)}\r\n                {createField('password',\"password\", [requiredField], Input, {type: \"password\"})}\r\n                {createField(null,\"rememberMe\", null, Input, {type: \"checkbox\"}, 'rememberMe')}\r\n                {captchaUrl && createField(null,\"captcha\", [requiredField], Input, {})}\r\n\r\n                {error && <div>\r\n                    <span className={style.error}>{error}</span>\r\n                </div>}\r\n                <div>\r\n                    <button>LOGIN</button>\r\n                </div>\r\n            </form>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n        loginnedId: state.auth.userId,\r\n        loginName: state.auth.login,\r\n        captchaUrl: state.auth.captchaUrl\r\n    }\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {login, logOut, getAuthUserData, getCaptchaUrl})\r\n)(Login);\r\n","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={style.Header}>\r\n\r\n            <div className={style.lable}>\r\n                <img\r\n                    src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Inkscape.logo.svg/390px-Inkscape.logo.svg.png\"/>\r\n            </div>\r\n\r\n            <div className={style.links}>\r\n\r\n                {!props.login ? <NavLink to={'/Login'}>Login</NavLink>\r\n                    : <div><span className={style.user}>{props.login}</span>\r\n                    <button onClick={props.logOut}>logOut</button></div>\r\n                }\r\n\r\n            </div>\r\n\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import {getAuthUserData} from \"./AuthReducer\";\r\n\r\nconst INITIALISED_SUCCESS = 'INITIALISED_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALISED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst _initialisedSuccess = () => {\r\n    return ({type: INITIALISED_SUCCESS})\r\n};\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(_initialisedSuccess());\r\n        })\r\n};\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        {\r\n            name: 'Vasya',\r\n            id: 1,\r\n            avatarImage: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTUXVCQEfmyIF2ZSm5lw4GJ5BNy-hWEeRA8X0t3MPLGztI__Srv',\r\n        },\r\n        {\r\n            name: 'Anya',\r\n            id: 2,\r\n            avatarImage: 'https://cdn.freelance.ru/img/portfolio/pics/00/37/9B/3644384.jpg?mt=57607de1',\r\n        },\r\n        {\r\n            name: 'Tanya',\r\n            id: 3,\r\n            avatarImage: 'https://www.w3schools.com/howto/img_avatar2.png',\r\n        },\r\n        {\r\n            name: 'Grigory',\r\n            id: 4,\r\n            avatarImage: 'https://playjoor.com/assets/avatar/jenny.jpg',\r\n            age: 43,\r\n            birthDate: '25 / 07 / 1987',\r\n            profession: 'trubouklad4ik',\r\n            education: 'some school on east',\r\n\r\n        },\r\n    ],\r\n};\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n};\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport messagesReducer from \"./MessagesReducer\";\r\nimport feedReducer from \"./FeedReducer\";\r\nimport sidebarReducer from \"./SidebarReducer\";\r\nimport friendsReducer from \"./FriendsReducer\";\r\nimport authReducer from \"./AuthReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport appReducer from \"./AppReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    auth: authReducer,\r\n    messagesReducer,\r\n    feedReducer,\r\n    sidebarReducer,\r\n    friendsReducer,\r\n    form: formReducer,\r\n    appReducer,\r\n});\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMiddleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from \"react\";\r\nimport Preloader from \"../Components/Common/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </React.Suspense>\r\n    };\r\n};\r\n","import React, {Component} from 'react';\r\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\r\nimport './App.css';\r\nimport Navigate from \"./Components/Navigate/Navigate\";\r\nimport Footer from \"./Components/Footer/Footer\";\r\nimport News from \"./Components/News/News\";\r\nimport Music from \"./Components/Music/Music\";\r\nimport Settings from \"./Components/Settings/Settings\";\r\nimport Login from \"./Components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Header from \"./Components/Header/Header\";\r\nimport {logOut} from \"./redux/AuthReducer\";\r\nimport {initializeApp} from \"./redux/AppReducer\";\r\nimport Preloader from \"./Components/Common/Preloader\";\r\nimport store from \"./redux/redux-store\";\r\nimport {withSuspense} from \"./hoc/withSuspense.jsx\";\r\n\r\n\r\n//import DialogsPage from \"./Components/DialogsPage/DialogsPage\";\r\n\r\nconst DialogsPage = React.lazy(() => import('./Components/DialogsPage/DialogsPage'));\r\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer.jsx'));\r\nconst FriendsContainer = React.lazy(() => import('./Components/Friends/FriendsContainer.jsx'));\r\n\r\n\r\nclass AppMain extends Component {\r\n\r\n    catchAllUnhandledErrors = (promiseRejectionEvent) => {\r\n        console.log('some error occured');\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n        window.addEventListener('unhandledrejection', this.catchAllUnhandledErrors());\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors())\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return (<Preloader/>)\r\n        } else {\r\n\r\n            return (\r\n                <div className='fullOnImage'>\r\n                    <div className='fullContainer'>\r\n                        <div className='appWrapper'>\r\n\r\n                            <Header login={this.props.login} logOut={this.props.logOut}/>\r\n                            <Navigate/>\r\n\r\n                            <Switch>\r\n                            <main className='appContent'>\r\n\r\n                                <Route exact path=\"/\"\r\n                                       render={()=> <Redirect to={\"/Profile\"}/>}/>\r\n\r\n                                <Route path=\"/DialogsPage\"\r\n                                       render={withSuspense(DialogsPage)}/>\r\n\r\n                                <Route path=\"/Profile/:userId?\"\r\n                                       render={withSuspense(ProfileContainer)}/>\r\n\r\n                                <Route path=\"/News\" render={() => <News/>}/>\r\n                                <Route path=\"/Music\" component={Music}/>\r\n                                <Route path=\"/Friends\" render={() => {\r\n                                    return <React.Suspense fallback={<Preloader/>}>\r\n                                        <FriendsContainer/>\r\n                                    </React.Suspense>\r\n                                }}/>\r\n                                <Route path=\"/Settings\" component={Settings}/>\r\n                                <Route path=\"/Login\" component={Login}/>\r\n                                <Route path=\"*\" render={() => <div>Error 404</div>}/>\r\n\r\n\r\n                            </main>\r\n                            </Switch>\r\n                            <Footer/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userId: state.auth.userId,\r\n        login: state.auth.login,\r\n        initialized: state.appReducer.initialized,\r\n    }\r\n};\r\n\r\nconst AppContainer = compose(withRouter, connect(mapStateToProps, {initializeApp, logOut}))(AppMain);\r\n\r\nconst App = () => (\r\n    <HashRouter basename={process.env.PUBLIC_URL}>\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n);\r\nexport default App;","import React from 'react';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from \"./App.jsx\";\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'));\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import React from 'react';\r\nimport preloader from \"../../assets/images/Spinner.svg\";\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"FriendsNav_friendsBlock__yvmPx\",\"ava\":\"FriendsNav_ava__-zyB1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Header\":\"Header_Header__3L4hb\",\"links\":\"Header_links__punzf\",\"lable\":\"Header_lable__31lMi\",\"user\":\"Header_user__XizSP\"};","import {profileAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst TEXT_FIELD_POST_CHANGE = 'TEXT-FIELD-POST-CHANGE';\r\nconst SET_USER_PHOTOS = 'settings/SET_USER_PHOTOS';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n    profile: {},\r\n    status: '',\r\n    myFeed: [\r\n        {\r\n            id: 9001,\r\n            userId: 3,\r\n            content: 'OMG1111',\r\n            likeCount: 22,\r\n            avatarImage: 'https://www.w3schools.com/howto/img_avatar2.png',\r\n        },\r\n        {\r\n            id: 9002,\r\n            userId: 4,\r\n            content: 'OMG NOOOOOOOOOO11',\r\n            likeCount: 2,\r\n            avatarImage: 'https://playjoor.com/assets/avatar/jenny.jpg',\r\n        },\r\n    ],\r\n    newPostText: 'asd',\r\n};\r\n\r\nconst feedReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case TEXT_FIELD_POST_CHANGE:\r\n            return {\r\n                ...state,\r\n                newPostText: action.text\r\n            };\r\n\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: state.myFeed.length + 9001,\r\n                userId: 1,\r\n                content: action.text,\r\n                likeCount: 0,\r\n                avatarImage: 'https://www.w3schools.com/howto/img_avatar2.png'\r\n            };\r\n            return {\r\n                ...state,\r\n                myFeed: [newPost, ...state.myFeed],\r\n                newPostText: '',\r\n            };\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                myFeed: state.myFeed.filter(f => f.id !== action.postId)\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            };\r\n        case SET_USER_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const addPost = (text) => {\r\n    return ({\r\n        type: ADD_POST, text\r\n    })\r\n};\r\nexport const deletePost = (postId) => {\r\n    return ({\r\n        type: DELETE_POST, postId\r\n    })\r\n};\r\nexport const _setUserProfile = (profile) => {\r\n    return ({type: SET_USER_PROFILE, profile: profile})\r\n};\r\nexport const _setUserStatus = (status) => {\r\n    return ({type: SET_USER_STATUS, status: status})\r\n};\r\nexport const _setUserStatusSuccess = (photos) => {\r\n    return ({type: SET_USER_PHOTOS, photos})\r\n};\r\n\r\nexport const uploadUserProfile = (userId) => async (dispatch) => {\r\n    try {\r\n        let data = await profileAPI.uploadUser(userId);\r\n        dispatch(_setUserProfile(data));\r\n        let status = await profileAPI.uploadStatus(userId);\r\n        if (status) {\r\n            dispatch(_setUserStatus(status));\r\n        }\r\n    } catch(error) {\r\n        debugger;\r\n    }\r\n};\r\n\r\nexport const updateUserStatus = (newStatus) => async (dispatch) => {\r\n    let res = await profileAPI.updateStatus(newStatus);\r\n    if (res === 0) {\r\n        dispatch(_setUserStatus(newStatus));\r\n    }\r\n\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    const authId = getState().auth.userId;\r\n    let res = await profileAPI.updateProfile(profile);\r\n    if (res.resultCode === 0) {\r\n        dispatch(uploadUserProfile(authId));\r\n    }else {\r\n        let message = res.messages.length > 0 ? res.messages[0] : \"some error\";\r\n        dispatch(stopSubmit('profile', {_error: message}));\r\n        return Promise.reject(message);\r\n    }\r\n};\r\nexport const saveAvatar = (file) => async (dispatch) => {\r\n    let res = await profileAPI.saveAvatar(file);\r\n    if (res.resultCode === 0) {\r\n        dispatch(_setUserStatusSuccess(res.data));\r\n    }else {\r\n        //let message = res.messages.length > 0 ? res.messages[0] : \"some error\";\r\n        // dispatch(stopSubmit('profile', {_error: message}));\r\n        //return Promise.reject(message);\r\n    }\r\n};\r\nexport default feedReducer;","export const requiredField = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is required!\"\r\n};\r\n\r\nexport const maxLength = (maxlength) => (value) => {\r\n    if (value.length > maxlength) return `Max length ${maxlength} symbols`;\r\n\r\n    return undefined;\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControl_formControl__2oBOw\",\"error\":\"FormControl_error__qVj4k\",\"errorMessage\":\"FormControl_errorMessage__3vPZx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Nav\":\"Navigate_Nav__M6VG7\",\"item\":\"Navigate_item__2vgUH\",\"click\":\"Navigate_click__2ZRIs\",\"active\":\"Navigate_active__2p4Lu\",\"friends\":\"Navigate_friends__uVbRz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Login_item__1OdUE\",\"error\":\"Login_error__3QnWQ\"};","import React from \"react\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return{\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to={\"/Login\"} />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let connectedAuthRedirectComponent = connect(mapStateToProps,{})(RedirectComponent);\r\n    return connectedAuthRedirectComponent;\r\n};\r\n"],"sourceRoot":""}